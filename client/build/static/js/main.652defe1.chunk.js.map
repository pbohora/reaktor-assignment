{"version":3,"sources":["services/index.js","Components/PackageDetail.js","Components/PackageList.js","App.js","index.js"],"names":["getPackages","a","axios","get","response","data","updatePackage","id","updatedPackage","put","PackageDetail","dependsOn","packages","handleChange","inputState","handleSubmit","name","useParams","singlePackage","find","pack","packageName","trim","replace","split","console","log","description","map","depndency","index","key","to","reverseDependency","note","singleNote","tags","tag","onSubmit","e","placeholder","rows","cols","value","onChange","PackageList","filterTag","handleFilterChange","handleFilterSubmit","App","useState","setPackages","setInputState","setFilterTag","useEffect","then","preventDefault","newObj","noteBody","tagBody","toLocaleLowerCase","p","sort","b","exact","path","target","filter","includes","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.652defe1.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/packages\";\r\n\r\n//fetch data from server with axios\r\n\r\nconst getPackages = async () => {\r\n  const response = await axios.get(baseUrl);\r\n  return response.data;\r\n};\r\n\r\nconst getSinglePackage = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`);\r\n  return response.data;\r\n};\r\n\r\nconst updatePackage = async (id, updatedPackage) => {\r\n  const response = await axios.put(`${baseUrl}/${id}`, updatedPackage);\r\n  return response.data;\r\n};\r\n\r\nexport { getPackages, getSinglePackage, updatePackage };\r\n","import React, { useState, useEffect } from \"react\";\r\n//import { getPackages, getSinglePackage, updataPackage } from \"./services\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nconst PackageDetail = ({\r\n  packages,\r\n  handleChange,\r\n  inputState,\r\n  handleSubmit,\r\n}) => {\r\n  const name = useParams().name;\r\n\r\n  const singlePackage = packages.find(\r\n    (pack) => pack.packageName === name.trim()\r\n  );\r\n  let dependsOn;\r\n  if (singlePackage && singlePackage.dependsOn) {\r\n    dependsOn = singlePackage.dependsOn\r\n      .replace(/ *\\([^)]*\\) */g, \"\")\r\n      .split(\",\");\r\n  }\r\n  console.log(singlePackage);\r\n  console.log(dependsOn);\r\n  return (\r\n    <div>\r\n      <h1>Packages Detail</h1>\r\n      {singlePackage && (\r\n        <div>\r\n          <h2>Name: {singlePackage.packageName}</h2>\r\n          <p>Description: {singlePackage.description}</p>\r\n          Depends On:\r\n          <ul>\r\n            {dependsOn &&\r\n              dependsOn.map((depndency, index) => (\r\n                <li key={index}>\r\n                  <Link to={`/package/${depndency}`}>{depndency}</Link>\r\n                </li>\r\n              ))}\r\n          </ul>\r\n          Reverse Dependency:\r\n          <ul>\r\n            {singlePackage.reverseDependency &&\r\n              singlePackage.reverseDependency.map((depndency, index) => (\r\n                <li key={index}>\r\n                  <Link to={`/package/${depndency}`}>{depndency}</Link>\r\n                </li>\r\n              ))}\r\n          </ul>\r\n          Notes:\r\n          <ul>\r\n            {singlePackage.note &&\r\n              singlePackage.note.map((singleNote, index) => (\r\n                <li key={index}>{singleNote}</li>\r\n              ))}\r\n          </ul>\r\n          Tags:\r\n          <ul>\r\n            {singlePackage.tags &&\r\n              singlePackage.tags.map((tag, index) => (\r\n                <li key={index}>{tag}</li>\r\n              ))}\r\n          </ul>\r\n          Add Notes:\r\n          <form onSubmit={(e) => handleSubmit(e, singlePackage.id)}>\r\n            <textarea\r\n              placeholder=\"Notes\"\r\n              rows=\"10\"\r\n              cols=\"100\"\r\n              name=\"note\"\r\n              value={inputState.note}\r\n              onChange={handleChange}\r\n            />\r\n            <button>Add Note</button>\r\n          </form>\r\n          Add Tags:\r\n          <form onSubmit={(e) => handleSubmit(e, singlePackage.id)}>\r\n            <input\r\n              placeholder=\"Tag\"\r\n              name=\"tag\"\r\n              value={inputState.tag}\r\n              onChange={handleChange}\r\n            />\r\n            <button>Add Tag</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PackageDetail;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PackageList = ({\r\n  packages,\r\n  filterTag,\r\n  handleFilterChange,\r\n  handleFilterSubmit,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h1>Packages List</h1>\r\n      <h2>Filter with Tag</h2>\r\n      <form onSubmit={handleFilterSubmit}>\r\n        <input\r\n          placeholder=\"Tag\"\r\n          name=\"filterTag\"\r\n          value={filterTag}\r\n          onChange={handleFilterChange}\r\n        />\r\n        <button>Search</button>\r\n      </form>\r\n      <ul>\r\n        {packages.map((pack) => (\r\n          <li key={pack.id}>\r\n            <Link to={`/package/${pack.packageName}`}>{pack.packageName}</Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PackageList;\r\n","import React, { useState, useEffect } from \"react\";\nimport { getPackages, getSinglePackage, updatePackage } from \"./services\";\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport PackageDetail from \"./Components/PackageDetail\";\nimport PackageList from \"./Components/PackageList\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [packages, setPackages] = useState([]);\n  const [inputState, setInputState] = useState({ note: \"\", tag: \"\" });\n  const [filterTag, setFilterTag] = useState(\"\");\n\n  useEffect(() => {\n    getPackages().then((data) => setPackages(data));\n  }, []);\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setInputState({\n      ...inputState,\n      [e.target.name]: value,\n    });\n  };\n\n  const handleSubmit = async (e, id) => {\n    e.preventDefault();\n    const newObj = {\n      noteBody: inputState.note,\n      tagBody: inputState.tag.toLocaleLowerCase(),\n    };\n    const updatedPackage = await updatePackage(id, newObj);\n    setPackages(packages.map((p) => (p.id !== id ? p : updatedPackage)));\n  };\n\n  const handleFilterChange = (e) => {\n    setFilterTag(e.target.value);\n  };\n\n  const handleFilterSubmit = (e) => {\n    e.preventDefault();\n    setPackages(\n      packages.filter(\n        (p) =>\n          filterTag === \"\" || p.tags.includes(filterTag.toLowerCase().trim())\n      )\n    );\n  };\n  packages.sort((a, b) => {\n    if (a.packageName < b.packageName) return -1;\n    if (a.packageName > b.packageName) return 1;\n    return 0;\n  });\n  console.log(packages);\n\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <PackageList\n          packages={packages}\n          handleFilterChange={handleFilterChange}\n          handleFilterSubmit={handleFilterSubmit}\n          filterTag={filterTag}\n        />\n      </Route>\n      <Route path=\"/package/:name\">\n        <PackageDetail\n          packages={packages}\n          handleChange={handleChange}\n          inputState={inputState}\n          handleSubmit={handleSubmit}\n        />\n      </Route>\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}